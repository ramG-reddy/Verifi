generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Registered Investment Advisors
model Advisor {
  id            String   @id @default(cuid())
  registrationId String  @unique // INA00XX...
  name          String
  email         String?
  phone         String?
  address       String?
  status        String   @default("ACTIVE") // ACTIVE, SUSPENDED, CANCELLED
  registrationDate DateTime?
  expiryDate    DateTime?
  category      String?  // Individual, Corporate, etc.
  
  // Additional fields for better verification
  alternateNames String? // Common variations/aliases of the name
  qualifications String? // Educational/professional qualifications
  specialization String? // Investment specialization areas
  
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  
  @@map("advisors")
}

// Registered Companies (Mutual Funds, Portfolio Managers, etc.)
model Company {
  id            String   @id @default(cuid())
  registrationId String  @unique
  name          String
  email         String?
  phone         String?
  address       String?
  companyType   String?  // Mutual Fund, Portfolio Manager, etc.
  status        String   @default("ACTIVE")
  registrationDate DateTime?
  expiryDate    DateTime?
  website       String?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  
  @@map("companies")
}

// IPO Information
model Ipo {
  id            String   @id @default(cuid())
  companyId     String
  name          String
  symbol        String?
  issueSize     Decimal?
  priceRange    String?
  openDate      DateTime?
  closeDate     DateTime?
  listingDate   DateTime?
  status        String   @default("UPCOMING") // UPCOMING, OPEN, CLOSED, LISTED
  exchange      String?  // NSE, BSE
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  
  @@map("ipos")
}